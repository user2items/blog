(self.webpackChunkwall_blog=self.webpackChunkwall_blog||[]).push([[185],{77288:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiGetLabelList=function(e){return n.default.get("/label/list",e)},t.apiAddLabel=function(e){return n.default.postFile("/label/add",e)},t.apiUpdateLabel=function(e){return n.default.post("/label/update",e)},t.apiDelLabel=function(e){return n.default.get("/label/del",e)};var l,a=r(64971),n=(l=a)&&l.__esModule?l:{default:l}},66013:(e,t,r)=>{"use strict";Object.defineProperty(t,"X",{value:!0});var l=i(r(94942)),a=i(r(36803)),n=r(94023),o=r(77288);function i(e){return e&&e.__esModule?e:{default:e}}t.Z={name:"permissionAdd",components:{"sketch-picker":n.Sketch},data:function(){return{header:"添加标签",info:{label:"",bgColor:"rgba(70, 70, 70, 0.9)"},currentColor:"rgba(70, 70, 70, 0.9)",loading:!1,rules:{label:[{required:!0,message:"请填写标签",trigger:"blur"}],bgColor:[{required:!0,message:"请填写背景色",trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t,r=this;this.loading=!0,this.$refs[e].validate((t=(0,a.default)(l.default.mark((function e(t){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.abrupt("return",(0,o.apiAddLabel)(r.info).then((function(e){r.$message.success("新增成功"),r.$router.push("/label/list")})).catch((function(e){console.log(e),r.$message.info("新增失败")})).finally((function(){r.loading=!1})));case 4:return console.log("error submit!!"),r.loading=!1,e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e,r)}))),function(e){return t.apply(this,arguments)}))},colorValueChange:function(e){var t=e.rgba,r=t.r,l=t.g,a=t.b,n=t.a;this.currentColor="rgba("+r+", "+l+", "+a+", "+n+")",this.info.bgColor=this.currentColor}}}},69974:(e,t,r)=>{(e.exports=r(9252)(!1)).push([e.id,"/**\n * 变量样式\n */\n.label-box[data-v-73415226] {\n  color: #fff;\n  border-radius: 12px;\n  font-size: 14px;\n  text-align: center;\n  max-width: 150px;\n}\n",""])},33185:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__esModule:()=>l.X,default:()=>n});var l=r(66013);const a=l.Z;r(63174);const n=(0,r(51900).Z)(a,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"label-add"},[r("zp-page-edit",{attrs:{back:!0},on:{back:function(t){return e.$router.back()}}},[r("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n      "+e._s(e.header)+"\n    ")]),e._v(" "),r("el-form",{ref:"form",staticClass:"form",attrs:{model:e.info,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"标签：",prop:"label"}},[r("el-input",{attrs:{type:"text"},model:{value:e.info.label,callback:function(t){e.$set(e.info,"label",t)},expression:"info.label"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"背景色：",prop:"bgColor"}},[r("el-input",{attrs:{readonly:"",value:e.currentColor}})],1),e._v(" "),r("el-form-item",[r("sketch-picker",{on:{input:e.colorValueChange},model:{value:e.currentColor,callback:function(t){e.currentColor=t},expression:"currentColor"}})],1),e._v(" "),e.info.label?r("el-form-item",{attrs:{label:"预览："}},[r("div",{staticClass:"label-box",style:{backgroundColor:e.currentColor}},[e._v("\n          "+e._s(e.info.label)+"\n        ")])]):e._e(),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.handleSubmit("form")}}},[e._v("立即创建")])],1)],1)],1)],1)}),[],!1,null,"73415226",null).exports},63174:(e,t,r)=>{var l=r(69974);l.__esModule&&(l=l.default),"string"==typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);(0,r(45346).Z)("38bbb742",l,!0,{})}}]);